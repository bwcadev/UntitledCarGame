import{S as F,P as I,W as C,C as S,A as O,a as z,T as A,M as T,G,B as k,b as B,R,c as j,d as H,L as W}from"./vendor.0944c274.js";const q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))v(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&v(m)}).observe(document,{childList:!0,subtree:!0});function P(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function v(t){if(t.ep)return;t.ep=!0;const i=P(t);fetch(t.href,i)}};q();const s=new F,c=new I(75,window.innerWidth/window.innerHeight,.1,1e3),w=new C({canvas:document.querySelector("#game")});w.setPixelRatio(window.devicePixelRatio);w.setSize(window.innerWidth,window.innerHeight);c.position.setZ(5);c.position.setY(2);document.addEventListener("keydown",N,!1);document.addEventListener("keyup",Z,!1);let a="forward",h=.1;function N(e){e.keyCode=="65"?a="left":e.keyCode=="68"&&(a="right")}function Z(e){(e.keyCode=="65"||e.keyCode=="68")&&(a="forward")}document.getElementById("left").addEventListener("touchstart",()=>{a="left"});document.getElementById("left").addEventListener("touchend",()=>{a="forward"});document.getElementById("right").addEventListener("touchstart",()=>{a="right"});document.getElementById("right").addEventListener("touchend",()=>{a="forward"});const D=new S(1118481);s.background=D;const K=new O(16777215),E=new z(16777215,4);E.position.set(5,5,5);s.add(K,E);const x=["./ambulance.glb","./delivery.glb","./deliveryFlat.glb","./firetruck.glb","./garbageTruck.glb","./hatchbackSports.glb","./police.glb","./race.glb","./raceFuture.glb","./sedan.glb","./sedanSports.glb","./suv.glb","./suvLuxury.glb","./taxi.glb","./tractor.glb","./tractorShovel.glb","./truck.glb","./truckFlat.glb","./van.glb"];let U=x[Math.floor(Math.random()*x.length)];new W;const Y=new A,J=Y.load("./325.jpg"),u=new T({matcap:J}),b=new G;let l=0,o;const L=new k;b.load(U,function(e){o=e.scene,o.traverse(n=>{n.isMesh&&(n.material=u)}),s.add(o),l++,l>2&&g()},void 0,function(e){console.error(e)});let r;const y=new k;b.load("./flag.glb",function(e){r=e.scene,r.traverse(n=>{n.isMesh&&(n.material=u)}),s.add(r),r.position.set(Math.floor(Math.random()*10+1),0,Math.floor(Math.random()*10+1)),y.setFromObject(r),l++,l>2&&g()},void 0,function(e){console.error(e)});const f=new B(new R(.8,1,32),u);s.add(f);f.rotation.x=-(Math.PI/2);const M=new B(new j(1e3,1e3,1e3,1e3),new H({color:3355443,wireframe:!0}));s.add(M);M.position.y=-.5;M.rotation.x=-(Math.PI/2);let d;b.load("./arrow.glb",function(e){d=e.scene,d.traverse(n=>{n.isMesh&&(n.material=u)}),s.add(d),l++,l>2&&g()},void 0,function(e){console.error(e)});let p=0;function g(){requestAnimationFrame(g),L.setFromObject(o),a=="left"?o.rotation.y+=.05:a=="right"&&(o.rotation.y-=.05),f.position.x=r.position.x,f.position.z=r.position.z,d.lookAt(r.position.x,r.position.y,r.position.z),d.position.set(o.position.x,o.position.y,o.position.z),o.translateZ(-h),c.lookAt(o.position.x,o.position.y,o.position.z),L.intersectsBox(y)&&(r.position.set(Math.floor(Math.random()*50+1)-25,0,Math.floor(Math.random()*50+1)-25),y.setFromObject(r),p++,p>3&&(document.getElementById("instructions").style.display="none"),document.getElementById("score").innerText=p,h=h+.01),w.render(s,c)}
